<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="context/@@standard_macros/page">
    
  <body>
    <div metal:fill-slot="body">

      <p i18n:translate="">This is the source of the
        <code tal:content="view/name">viewname</code> for 
        <code tal:content="request/form/for">for</code> in layer
        <code tal:content="request/form/layer">layer</code>:
      </p>

      <pre style="background-color: #cccccc; border: 1px solid black; padding: 5px;"
           tal:content="view/code">
        template source
      </pre>

      <form action="#" method="post" class="form-text"
            tal:attributes="action string:${context/absolute_url}/manage_createCustom">
        <input name="name" value="#" type="hidden"
               tal:attributes="value request/form/name" />
        <input name="for" value="#" type="hidden"
               tal:attributes="value request/form/for" />
        <input name="layer" value="#" type="hidden"
               tal:attributes="value request/form/layer" />
        <input name="origin" value="#" type="hidden"
               tal:attributes="value request/form/origin" />
        <table>
          <tr>
            <td>For interface</td>
            <td>
              <select name="customize_for">
                <option tal:repeat="interface view/availablesInterfaces"
                        tal:define="wanted request/form/for"
                        tal:attributes="selected python:wanted == interface and 'selected' or None"
                        tal:content="interface">
                  Interface
                </option>
              </select>
          </tr>
          <tr>
            <td>For layer</td>
            <td>
              <select name="customize_layer">
                <option tal:repeat="layer view/availablesLayers"
                        tal:define="wanted request/form/layer"
                        tal:attributes="selected python:wanted == layer and 'selected' or None"
                        tal:content="layer">
                  Layer
                </option>
              </select>
          </tr>
          <tr>
            <td>
            </td>
            <td>
              <input name="customize" value="Customize" type="submit" />
            </td>
          </tr>
        </table>
      </form>

    </div>
  </body>
</html>

