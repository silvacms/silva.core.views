<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="silva"
      tal:omit-tag=""
      tal:condition="realview/subforms">

  <form action="." method="post" tal:attributes="action request/getURL">

    <table class="listing"
           tal:define="rows realview/subforms;
                       row1 python:len(rows) and rows[0] or None;"
           tal:condition="python:row1 is not None">
      <tal:define tal:define="widgetsForTitles row1/getTitleWidgets;
                              niceTitles row1/getNiceTitles;
                              colspan python:len(widgetsForTitles)">
        <tbody>
          <tal:label tal:define="label realview/label | nothing"
                     tal:condition="label">
            <tr class="top-controls">
              <td colspan="#"
                  tal:attributes="colspan colspan">
                <h3 tal:content="label">Modify</h3>
              </td>
            </tr>
          </tal:label>
          <tr>
            <tal:series tal:repeat="widget widgetsForTitles">
              <th tal:define="idx repeat/widget/index"
                tal:content="python: niceTitles[idx]"
                tal:attributes="
                  title widget/field/description;
                  class python: 'cell' + str(idx) + ' header-' + niceTitles[idx]">
                field
              </th>
            </tal:series>
          </tr>
          <tal:block repeat="row realview/subforms">
            <a name="" tal:attributes="name string:edit-${row/contentId}" />
            <tr tal:content="structure row/render"
                tal:attributes="class python:repeat['row'].odd() and 'odd' or 'even'" />
          </tal:block>
          <tr class="controls">
            <td colspan="#" class="align-right"
                tal:attributes="colspan colspan">
              <input type="submit"
                     tal:repeat="action realview/actions/values"
                     tal:replace="structure action/render" />
            </td>
          </tr>
        </tbody>
      </tal:define>
    </table>
  </form>
</html>
