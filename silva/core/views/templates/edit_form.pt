<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
      lang="en"
      xml:lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:define="vein string:contents"
      i18n:domain="silva">

  <metal:use-macro use-macro="here/macro_edit/macros/editor">

    <metal:fill-slot fill-slot="metatype_css">
      <tal:preview tal:condition="not: view/is_editable">
        <link rel="stylesheet"
              type="text/css"
              tal:attributes="href here/frontend.css/absolute_url | nothing"
              />
        <style type="text/css">
          div.public {
            margin: 12px 16px 10px 16px;
            padding: 0.3em 1em 0.7em;
            border: 1px solid #789;
            background-color: #e3ecf7;}
          h2 {
            margin-top: 0.3em;
          }
        </style>
      </tal:preview>
    </metal:fill-slot>

    <metal:block fill-slot="middleground">
      <div class="middleground"
           tal:condition="context/versioned_content">
        <div style="float:right">
          <a class="executor"
             title="publish this document: alt-p"
             accesskey="p"
             tal:attributes="href string:${context/absolute_url}/edit/quick_publish?return_to=tab_edit"
             i18n:translate=""
             i18n:attributes="title"
             tal:condition="view/propose_to_publish">
            publish&nbsp;now
          </a>
        </div>
        &nbsp;
      </div>
    </metal:block>


    <metal:fill-notice-slot fill-slot="notice">

      <div class="fixed-feedback" style="padding:0"
           tal:condition="view/propose_new_version">
        <form action="tab_edit_make_copy" method="post">
          <input type="hidden"
                 name="came_from_view"
                 value="tab_edit" />
          <button class="button"
                  type="submit"
                  title="work on a new version while the previous one stays online: alt-n"
                  accesskey="n"
                  i18n:attributes="title"
                  i18n:translate="">
            new version
          </button>
          <span class="warning"
                i18n:translate="">
            <strong i18n:name="note"><tal:block i18n:translate="">Note:</tal:block></strong>
            there is already a published or closed version of this
            content. Changes can only be made in a new version.
          </span>
        </form>
      </div>

    </metal:fill-notice-slot>

    <metal:fill-editor-slot fill-slot="main">

      <table class="columns columns2"
             tal:condition="view/is_editable">
        <tbody>
          <tr>

            <tal:block replace="nothing">
              _____________________ sidebar _____________________
            </tal:block>

            <td class="left">
              <metal:use-macro use-macro="here/macro_vein_navigation/macros/vein">
                <metal:fill-slot fill-slot="sidebar">
                  <tal:block
                     tal:define="template_id template/id"
                     tal:replace="structure python: here.service_sidebar.render(model, template_id, vein)" />
                </metal:fill-slot>
              </metal:use-macro>
            </td>

            <tal:block replace="nothing">
              _____________________ main _____________________
            </tal:block>

            <td class="main">
              <form method="post" name="silvaObjects" action="#"
                    tal:attributes="action template/id">
                <table class="listing">
                  <thead>

                    <tal:block replace="nothing">
                      ______________ vein + title row ______________
                    </tal:block>

                    <tr>
                      <td class="top" colspan="2">
                        <metal:use use-macro="here/macro_edit/macros/main-title" />
                      </td>
                    </tr>

                    <tal:editable tal:condition="view/is_editable">
                      <tr tal:condition="view/label">
                        <th colspan="2" tal:content="view/label">
                        </th>
                      </tr>
                      <tr>
                        <th style="width:33%" i18n:translate="">
                          aspect
                        </th>
                        <th i18n:translate="">
                          content
                        </th>
                      </tr>
                    </tal:editable>

                  </thead>
                  <tbody>
                    <metal:widgets metal:use-macro="view/form_macros/widgets" />
                  </tbody>
                  <tfoot>

                    <tal:editable tal:condition="view/is_editable">
                      <tr>
                        <th i18n:translate="">
                          * required
                        </th>
                        <th>&nbsp;</th>
                      </tr>
                      <metal:widgets metal:use-macro="view/form_macros/actions" />
                    </tal:editable>

                  </tfoot>
                </table>
              </form>
            </td>
          </tr>
        </tbody>
      </table>

      <div class="public"
           tal:condition="not: view/is_editable"
           tal:content="structure context/preview">
        Preview
      </div>

    </metal:fill-editor-slot>

  </metal:use-macro>

</html>
